# 🚀 现在就开始部署到 Railway！

## ✅ **准备工作已完成**

- ✅ 代码已推送到 GitHub: https://github.com/Boyi-Wang-washu/EAP-1v1-AI-tutor
- ✅ Railway 配置文件已创建
- ✅ 环境变量支持已添加

---

## 🎯 **接下来 5 分钟完成部署**

### **第 1 步：打开 Railway**

**链接**: https://railway.app

点击 **Login** → 选择 **Login with GitHub**

---

### **第 2 步：创建项目**

1. 点击 **New Project** 按钮（紫色大按钮）
2. 选择 **Deploy from GitHub repo**
3. 在列表中找到 **EAP-1v1-AI-tutor**
4. 点击这个仓库

---

### **第 3 步：等待自动部署（2分钟）**

Railway 会自动：
```
检测 Python → 安装依赖 → 运行应用
```

你会看到日志输出，等待显示 **Success** ✅

---

### **第 4 步：配置环境变量（重要！）**

在项目页面，点击 **Variables** 标签：

#### 添加第 1 个变量：
```
Name:  COZE_API_TOKEN
Value: sat_G9soTeMGzMr6oOmfwSdx80P1mGNCPJ3c7pFOLIyqPvajlvJyOFp5UyBedtgzXQ7s
```
点击 **Add**

#### 添加第 2 个变量：
```
Name:  BOT_ID
Value: 7565215004040527912
```
点击 **Add**

#### 添加第 3 个变量：
```
Name:  FLASK_SECRET_KEY
Value: eap-teaching-assistant-secret-key-2024
```
点击 **Add**

**保存后，Railway 会自动重新部署！**

---

### **第 5 步：生成域名**

1. 点击 **Settings** 标签
2. 找到 **Networking** 部分
3. 点击 **Generate Domain** 按钮
4. 复制生成的域名（例如：`https://eap-1v1-ai-tutor-production.up.railway.app`）

---

### **第 6 步：测试 API**

**打开浏览器，访问**：
```
https://你的域名.railway.app/api/health
```

**应该看到**：
```json
{
  "status": "ok",
  "message": "EAP Teaching Assistant API is running"
}
```

✅ **如果看到这个，部署成功！**

---

### **第 7 步：更新 Vercel**

#### 7.1 打开 Vercel
```
https://vercel.com/dashboard
```

#### 7.2 找到项目
找到 `cansolve-eap-agent-web`，点击进入

#### 7.3 添加环境变量
- Settings → Environment Variables
- 点击 **Add New**
- 填写：
  ```
  Name:  NEXT_PUBLIC_CHAT_API_URL
  Value: https://你的Railway域名.railway.app
  ```
- 全部环境勾选（Production, Preview, Development）
- 保存

#### 7.4 重新部署
- 回到项目主页
- Deployments → 最新部署 → Redeploy

---

## 🎉 **大功告成！**

### **访问你的线上网站**
```
https://cansolve-eap-agent-web.vercel.app/tutor/chat
```

**应该可以**：
- ✅ 正常聊天
- ✅ AI 回复
- ✅ 历史记录
- ✅ 全球访问

---

## 📊 **最终架构**

```
┌─────────────────────────────────────┐
│ GitHub 仓库                          │
├─────────────────────────────────────┤
│ EAP-1v1-AI-tutor (Flask API)        │
│     ↓ 自动部署                       │
│ Railway                             │
│ https://xxx.railway.app             │
└─────────────────────────────────────┘
                ↑ API 调用
┌─────────────────────────────────────┐
│ Vercel                              │
│ cansolve-eap-agent-web.vercel.app  │
│     ↑                               │
│ Next.js 网站                         │
└─────────────────────────────────────┘
```

---

## 🎁 **额外功能**

### **查看 API 日志**
Railway → 你的项目 → **Deployments** → 查看日志

### **查看使用量**
Railway → 你的项目 → **Usage** → 查看资源使用情况

### **自动部署**
每次推送到 GitHub，Railway 会自动重新部署！

---

## 📞 **需要帮助？**

- 部署卡住了？告诉我在哪一步
- 报错了？发给我错误信息
- 不确定？随时问我

**现在就开始吧！** 🚀

